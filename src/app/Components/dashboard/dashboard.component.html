<div class="container-form">

  <h2>{{ 'totalActivityReported' | translate }}:</h2>
    <form
      *ngIf="energyForm"
      [formGroup]="energyForm"
      (ngSubmit)="chartEnergy()">
      <div class='fields-container'>
        <mat-form-field [style.width.px]=200>
          <mat-label>{{'aspect' | translate}}</mat-label>
          <mat-select [formControl]="aspect">
            <mat-option value="1">{{aspectEnergy}}</mat-option>
            <mat-option value="2">{{aspectWater}}</mat-option>
            <mat-option value="3">{{aspectResidue}}</mat-option>
            <mat-option value="5">{{aspectEmissions}}</mat-option>
          </mat-select>
        </mat-form-field>
      
        <mat-form-field [style.width.px]=200>
          <mat-label>{{'delegation' | translate}}</mat-label>
          <mat-select [formControl]="delegation" panelClass="panel-{{delegation.value}}">
            <mat-option *ngFor="let delegation of delegations" [value]="delegation.name">
              {{delegation.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="delegation.hasError('required')">{{'delegation' | translate}} <strong>{{'isRequired' | translate}}</strong></mat-error>
        </mat-form-field>
      
        <mat-form-field [style.width.px]=200>
          <mat-label>{{'year' | translate}}</mat-label>
          <mat-select [formControl]="yearEnergy">
            <mat-option value="2019">2019</mat-option>
            <mat-option value="2020">2020</mat-option>
            <mat-option value="2021">2021</mat-option>
            <mat-option value="2022">2022</mat-option>
            <mat-option value="2023">2023</mat-option>
            <mat-option value="2024">2024</mat-option>
            <mat-option value="2025">2025</mat-option>
          </mat-select>
        </mat-form-field>
      
        <mat-form-field [style.width.px]=200>
          <mat-label>{{'selectEnergy' | translate}}</mat-label>
            <mat-select [formControl]="energy">
              <mat-option *ngFor="let energy of energies" [value]="energy.nameES">
                {{energy.nameES}}
              </mat-option>
            </mat-select>
          <mat-error *ngIf="energy.hasError('required')">{{'energyType' | translate}} <strong>{{'isRequired' | translate}}</strong></mat-error>
        </mat-form-field>
      
        <button mat-raised-button color="primary" type="submit" [disabled]="!energyForm.valid">GRAPH</button>
      </div>
    </form>
    <canvas id="graph" aria-label= "Activity graph" role="chart">{{ chart }}</canvas>


  <app-modal></app-modal>
  <div class="loader" *ngIf="!consumptions">No data found yet...</div>

</div>


